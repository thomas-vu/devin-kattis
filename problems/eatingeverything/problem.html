<div class="problembody">
<div class="illustration" style="width:35.00%">
<img alt="/problems/eatingeverything/file/statement/en/img-0001.jpg" class="illustration" src="/problems/eatingeverything/file/statement/en/img-0001.jpg"/>
<div class="description">
        Photo from <a href="https://www.flickr.com/photos/kenlund/10753739725/">Ken
        Lund</a>.
      </div>
</div>
<p>Margriet A. is in pizza heaven! She has bought a one-day
    access pass to Pizza World. Pizza World is a food festival,
    where all stands have their own special type of pizza. Margriet
    would really like to try many different types of pizza, but she
    thinks that she can only eat two pizzas in total. Therefore,
    she has come up with a cunning plan: at each stall she visits
    she decides whether she wants to buy this pizza or not. At the
    first stall where she decides to make a purchase, she buys and
    eats exactly one pizza. At the second one, she buys and eats
    half a pizza, and at the third she eats one quarter of a pizza,
    etc. …Therefore, at the <span class="tex2jax_process">$k^\textrm {th}$</span> stall where she
    decides to buy some pizza, she eats <span class="tex2jax_process">$\frac1{2^{k-1}}^\textrm {th}$</span> part of
    a pizza. This way she makes sure that she never gets full!</p>
<p>In order to ensure that the flow of people in the park is
    adequate, the pizza stalls are connected by one-way paths, and
    to make sure that everyone eventually leaves the festival, it
    is impossible to visit a pizza stall more than once. However,
    every stall is reachable from the stall at the entrance, which
    is the stall with number <span class="tex2jax_process">$0$</span>.</p>
<p>Of course, Margriet has her own taste: she likes some pizzas
    more than others. Eating pizza from a stall gives her a certain
    amount of satisfaction which is equal to Margriet’s personal
    stall satisfaction number multiplied by the fraction of a whole
    pizza she eats there. Her total satisfaction is the sum of
    satisfactions of every stall she visits. Can you help Margriet
    plot a route between the pizza stalls that satisfies her the
    most?</p>
<h2>Input</h2>
<ul class="itemize">
<li>
<p>The first line has two integers, <span class="tex2jax_process">$1\leq n \leq 5 \cdot 10^5$</span> and
        <span class="tex2jax_process">$0\leq m \leq 5 \cdot
        10^5$</span>, the number of pizza stalls and the number of
        one way connections.</p>
</li>
<li>
<p>The second line has <span class="tex2jax_process">$n$</span> integers <span class="tex2jax_process">$c_0, \dots , c_{n-1}$</span>, where each
        <span class="tex2jax_process">$0\leq c_ i \leq
        10^9$</span>, the amount of satisfaction Margriet gets from
        eating one pizza at stall <span class="tex2jax_process">$i$</span>.</p>
</li>
<li>
<p>The next <span class="tex2jax_process">$m$</span> lines
        each contain <span class="tex2jax_process">$2$</span>
        integers, <span class="tex2jax_process">$0\leq
        s&lt;n$</span> and <span class="tex2jax_process">$0\leq
        t&lt;n$</span>, indicating a one way path from stall
        <span class="tex2jax_process">$s$</span> to stall
        <span class="tex2jax_process">$t$</span>. No connection
        appears twice in the input.</p>
</li>
</ul>
<h2>Output</h2>
<ul class="itemize">
<li>
<p>Print the maximal amount of satisfaction Margriet can
        reach at the pizza festival. Your answer is considered
        correct if it has absolute or relative error of at most
        <span class="tex2jax_process">$10^{-6}$</span>.</p>
</li>
</ul>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>5 5
1 4 6 2 100
0 1
1 2
0 3
2 4
3 4
</pre>
</td>
<td>
<pre>100
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 2</th>
<th>Sample Output 2</th>
</tr>
<tr>
<td>
<pre>3 2
1 0 1
0 1
1 2
</pre>
</td>
<td>
<pre>1.5
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 3</th>
<th>Sample Output 3</th>
</tr>
<tr>
<td>
<pre>3 2
3 2 1
0 1
1 2
</pre>
</td>
<td>
<pre>4.25
</pre>
</td>
</tr>
</table>
</div>