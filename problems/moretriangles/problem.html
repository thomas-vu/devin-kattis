<div class="problembody">
<div class="illustration" style="width:50.00%">
<img alt="/problems/moretriangles/file/statement/en/img-0001.jpg" class="illustration" src="/problems/moretriangles/file/statement/en/img-0001.jpg"/>
<div class="description"></div>
</div>Simon Haples is a somewhat peculiar person. Not quite
    hip, not quite square, he is more of a triangular nature: ever
    since childhood, he has had an almost unhealthy obsession with
    triangles. Because of his discrete nature, Simon’s favorite
    kind of triangles are the Pythagorean ones, in which the side
    lengths are three positive integers <span class="tex2jax_process">$a$</span>, <span class="tex2jax_process">$b$</span>, and <span class="tex2jax_process">$c$</span> such that <span class="tex2jax_process">$a \le b$</span> and <span class="tex2jax_process">$a^2 + b^2 = c^2$</span>.

    <p>Recently, Simon has discovered the fantastic world of
    counting modulo some integer <span class="tex2jax_process">$n$</span>. As you may imagine, he quickly
    realizes that there are multitudes of Pythagorean triples to
    which he has previously been oblivious! Simon therefore sets
    out to find all Pythagorean triples modulo <span class="tex2jax_process">$n$</span>, i.e., all triples of integers
    <span class="tex2jax_process">$a$</span>, <span class="tex2jax_process">$b$</span> and <span class="tex2jax_process">$c$</span> between <span class="tex2jax_process">$1$</span> and <span class="tex2jax_process">$n-1$</span> such that <span class="tex2jax_process">$a \le b$</span> and <span class="tex2jax_process">$a^2 + b^2 \equiv c^2 \pmod{n}$</span>.</p>
<p>As Simon’s best friend, you realize that there is not much
    hope in deterring Simon from his crazy plans, so you decide to
    help him by computing how many such triples there are, so that
    Simon will know when his work is done.</p>
<h2>Input</h2>
<p>The input consists of a single integer <span class="tex2jax_process">$n$</span>, satisfying <span class="tex2jax_process">$2 \le n \le 500\, 000$</span>.</p>
<h2>Output</h2>
<p>Output the number of Pythagorean triples modulo <span class="tex2jax_process">$n$</span>.</p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>
7
</pre>
</td>
<td>
<pre>
18
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 2</th>
<th>Sample Output 2</th>
</tr>
<tr>
<td>
<pre>
15
</pre>
</td>
<td>
<pre>
64
</pre>
</td>
</tr>
</table>
</div>