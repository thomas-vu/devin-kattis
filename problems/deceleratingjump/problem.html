<div class="problembody">
<div class="illustration" style="width:30.00%">
<img alt="/problems/deceleratingjump/file/statement/en/img-0001.jpg" class="illustration" src="/problems/deceleratingjump/file/statement/en/img-0001.jpg"/>
<div class="description">
        A typical hopscotch court, the inspiration for this new
        sport.
      </div>
</div>
<p>An athlete is participating in a new sport that is the
    perfect mix of hopscotch and triple jumping. For this jury
    sport, <span class="tex2jax_process">$n$</span> squares are
    laid out on the ground in a line, with equal distances between
    them. The first phase is the approach, where an athlete sprints
    towards the first square, in which they start their first jump.
    Then, they may jump on any number of other squares, and must
    finally land in the last square.</p>
<p>The jury has given a predetermined number of points to
    jumping in each square, and the score of the athlete will be
    the sum of the scores of all the squares they jump in,
    including the very first and last squares.</p>
<p>Due to the nature of this sport, once the athlete starts
    jumping, they can not accelerate anymore, and the length of
    consecutive jumps can never increase. Naturally, it is also
    impossible to reverse direction.</p>
<p>Given the points the jury has allocated to each square, find
    the maximal possible score an athlete can get on this
    event.</p>
<h2>Input</h2>
<p>The input consists of:</p>
<ul class="itemize">
<li>
<p>One line with an integer <span class="tex2jax_process">$n$</span> (<span class="tex2jax_process">$2\leq n\leq 3000$</span>), the number of
        squares.</p>
</li>
<li>
<p>One line with <span class="tex2jax_process">$n$</span>
        integers <span class="tex2jax_process">$p_1, p_2, \dots ,
        p_ n$</span> (<span class="tex2jax_process">$-10^9\leq p_
        i\leq 10^9$</span>), the number of points the jury awards
        for jumping on each of the squares.</p>
</li>
</ul>
<h2>Output</h2>
<p>Output the maximum score that an athlete can get.</p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>4
1 -1 1 1
</pre>
</td>
<td>
<pre>3
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 2</th>
<th>Sample Output 2</th>
</tr>
<tr>
<td>
<pre>4
1 1 -1 1
</pre>
</td>
<td>
<pre>2
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 3</th>
<th>Sample Output 3</th>
</tr>
<tr>
<td>
<pre>3
-1 1 -1
</pre>
</td>
<td>
<pre>-1
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 4</th>
<th>Sample Output 4</th>
</tr>
<tr>
<td>
<pre>3
-1 -1 -1
</pre>
</td>
<td>
<pre>-2
</pre>
</td>
</tr>
</table>
</div>