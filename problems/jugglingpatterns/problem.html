<div class="problembody">
<p>Juggling patterns are notated by a system called siteswap.
    Siteswap patterns look like strings of digits, like this:
    ‘<span class="tex2jax_process">$3$</span>’, ‘<span class="tex2jax_process">$441$</span>’, ‘<span class="tex2jax_process">$345$</span>’, etc. Each number represents
    the time duration of a throw (how long it is in the air). For
    example, a <span class="tex2jax_process">$5$</span> throw is
    higher than a <span class="tex2jax_process">$3$</span> throw.
    We consider time to advance in discrete steps (called ‘beats’),
    so that each ball is caught and thrown at a particular beat.
    For example, if we throw a <span class="tex2jax_process">$3$</span> at beat <span class="tex2jax_process">$2$</span>, it lands back in a hand at beat
    <span class="tex2jax_process">$5$</span> (<span class="tex2jax_process">$=2+3$</span>).</p>
<p>In the simplest form of siteswap (which we’ll use here), at
    most one ball is caught and at most one ball is thrown on a
    beat. If a ball is caught on a beat, it should be thrown on the
    same beat. However, it is possible to catch nothing on a beat
    and therefore throw nothing on that beat.</p>
<p>It is understood that the pattern (theoretically) repeats
    forever. So the pattern ‘<span class="tex2jax_process">$51$</span>’ means “throw a <span class="tex2jax_process">$5$</span> on beat <span class="tex2jax_process">$1$</span>, throw a <span class="tex2jax_process">$1$</span> on beat <span class="tex2jax_process">$2$</span>, throw a <span class="tex2jax_process">$5$</span> on beat <span class="tex2jax_process">$3$</span>, throw a <span class="tex2jax_process">$1$</span> on beat <span class="tex2jax_process">$4$</span>, …”. It is also understood that
    the throws alternate hands. So the pattern ‘<span class="tex2jax_process">$441$</span>’ means “throw a <span class="tex2jax_process">$4$</span> with the left hand, then throw a
    <span class="tex2jax_process">$4$</span> with the right, then a
    <span class="tex2jax_process">$1$</span> with the left, then a
    <span class="tex2jax_process">$4$</span> with the right,
    …”.</p>
<p>If a throw is an odd number (e.g. <span class="tex2jax_process">$3$</span>), then it is a throw to the other
    hand (right to left or left to right). If it is even (e.g.
    <span class="tex2jax_process">$4$</span>), it is a throw to the
    same hand (right to right or left to left).</p>
<p>You can discern the number of balls required for a pattern
    by summing the numbers in the pattern notation and dividing by
    the length of the pattern. So the pattern ‘<span class="tex2jax_process">$3$</span>’ uses <span class="tex2jax_process">$3$</span> balls (<span class="tex2jax_process">$= 3 / 1$</span>), and the pattern
    ‘<span class="tex2jax_process">$441$</span>’ also uses
    <span class="tex2jax_process">$3$</span> balls (<span class="tex2jax_process">$=(4+4+1)/3 = 3$</span>). The pattern
    ‘<span class="tex2jax_process">$7531$</span>’ uses <span class="tex2jax_process">$4$</span> balls, as does ‘<span class="tex2jax_process">$345$</span>’.</p>
<p>Write a program to distinguish between valid and invalid
    siteswap patterns. A valid siteswap pattern must use an integer
    number of balls. It must also allow at most one ball to be
    caught and thrown on any beat. Any other pattern is
    invalid.</p>
<p>An example of an invalid pattern is ‘<span class="tex2jax_process">$543$</span>’, because if we throw a
    <span class="tex2jax_process">$5$</span> with the left hand on
    beat <span class="tex2jax_process">$1$</span>, then throw a
    <span class="tex2jax_process">$4$</span> on beat <span class="tex2jax_process">$2$</span> with the right hand, they will
    both land in the right hand on beat <span class="tex2jax_process">$6$</span>, which is not allowed (in simple
    siteswap). Another invalid pattern is ‘<span class="tex2jax_process">$247$</span>’ because it does not use an
    integer number of balls (<span class="tex2jax_process">$=(2+4+7)/3\approx 4.3\ldots $</span>).</p>
<h2>Input</h2>
<p>Input will be a list of up to <span class="tex2jax_process">$100$</span> siteswap patterns, one per line,
    ending at end of file. All patterns be a string of at most
    <span class="tex2jax_process">$1\, 000$</span> digits (throws),
    and all throws will be between <span class="tex2jax_process">$0$</span> and <span class="tex2jax_process">$9$</span> (inclusive). A throw of
    <span class="tex2jax_process">$0$</span> is valid, and it means
    that no ball is thrown on that beat.</p>
<h2>Output</h2>
<p>For each siteswap pattern, print the pattern, followed by a
    colon, followed by one of the following messages as
    appropriate:</p>
<ul class="itemize">
<li>
<p>‘valid with X balls’, where X is the number of balls in
        the pattern,</p>
</li>
<li>
<p>‘invalid # of balls’, if the number of balls used is not
        an integer,</p>
</li>
<li>
<p>‘invalid pattern’, if the pattern has an integer number
        of balls but requires more than one ball to be caught or
        thrown at some time.</p>
</li>
</ul>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>
3
33333
345
542
543
55550
</pre>
</td>
<td>
<pre>
3: valid with 3 balls
33333: valid with 3 balls
345: valid with 4 balls
542: invalid # of balls
543: invalid pattern
55550: valid with 4 balls 
</pre>
</td>
</tr>
</table>
</div>