<div class="problembody">
<div class="illustration" style="width:21.00%">
<img alt="/problems/test2/file/statement/en/img-0001.png" class="illustration" src="/problems/test2/file/statement/en/img-0001.png"/>
<div class="description"></div>
</div>
<p>A vocational preference test, unlike an aptitude test, seeks
    to identify careers that the candidate might find satisfying.
    Based on the answers to a slew of seemingly inane
    multiple-choice questions like the one below, the test
    determines which occupations suit the candidate’s
    personality.</p>
<blockquote class="quote">
<p>Which would you rather spend an afternoon doing?<br/></p>
<p>(a) feeding chickens<br/>
      (b) driving a race car<br/>
      (c) watching The Simpsons on TV<br/>
      (d) suntanning<br/>
      (e) building a dog house</p>
</blockquote>
<p>Each question asks the candidate to express a preference
    from among five activities, selected from a common larger set.
    That is, activities like feeding chickens or suntanning are
    likely to appear in several different questions.</p>
<p>If a candidate answers A in a question containing A, B, C,
    D, E as alternatives, this choice indicates a preference for A
    over each of B, C, D, E. Also, if one answer indicates a
    preference for X over Y and one or more other answers indicate
    a preference for Y over Z, the combined set of answers
    indicates a preference for X over Z.</p>
<p>The candidate may provide contradictory answers; that is,
    the answers may indicate a preference for X over Y and also for
    Y over X. These contradictions indicate inconsistency, a
    personalitiy attribute that may suggest a career in politics or
    used auto sales.</p>
<p>Given a set of answers to a vocational preference test, you
    are to partition the activities into the minimal number of sets
    such that, for each pair within a given set, the answers
    indicate a contradictory preference.</p>
<h2>Input</h2>
<p>The input contains several test cases (at most <span class="tex2jax_process">$250$</span>) followed by a line containing
    <span class="tex2jax_process">$0$</span>. Each case begins with
    <span class="tex2jax_process">$1 \le n \le 52$</span>, the
    number of questions in the test. <span class="tex2jax_process">$n$</span> lines follow, each containing the
    names of five distinct activities, followed by the candidate’s
    answer – one of the five alternatives. Each activity is named
    by a single upper case letter.</p>
<h2>Output</h2>
<p>For each test case, output the sets, one per line. Output
    the elements of each set in alphabetical order, and output the
    sets in alphabetical order by their least element. The sets
    should together contain exactly the set of activities that
    appear in the input.</p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>4
A B C D E C
F C H I J J
K B H I F I
K C E B J K
4
A B C D E C
F C H I J J
K B H I F I
K C E B J K
0
</pre>
</td>
<td>
<pre>A
B
C
D
E
F
H
I J K

A
B
C
D
E
F
H
I J K
</pre>
</td>
</tr>
</table>
</div>