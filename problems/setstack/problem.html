<div class="problembody">
<div class="illustration" style="width:30.00%">
<img alt="/problems/setstack/file/statement/en/img-0001.jpg" class="illustration" src="/problems/setstack/file/statement/en/img-0001.jpg"/>
<div class="description"></div>
</div>Background from Wikipedia: “Set theory is a branch of
    mathematics created principally by the German mathematician
    Georg Cantor at the end of the 19th century. Initially
    controversial, set theory has come to play the role of a
    foundational theory in modern mathematics, in the sense of a
    theory invoked to justify assumptions made in mathematics
    concerning the existence of mathematical objects (such as
    numbers or functions) and their properties. Formal versions of
    set theory also have a foundational role to play as specifying
    a theoretical ideal of mathematical rigor in proofs.”

    <p>Given this importance of sets, being the basis of
    mathematics, a set of eccentric theorist set off to construct a
    supercomputer operating on sets instead of numbers. The initial
    SetStack Alpha is under construction, and they need you to
    simulate it in order to verify the operation of the
    prototype.</p>
<p>The computer operates on a single stack of sets, which is
    initially empty. After each operation, the cardinality of the
    topmost set on the stack is output. The cardinality of a set
    <span class="tex2jax_process">$S$</span> is denoted
    <span class="tex2jax_process">$|S|$</span> and is the number of
    elements in <span class="tex2jax_process">$S$</span>. The
    instruction set of the SetStack Alpha is <tt class="ttfamily">PUSH</tt>, <tt class="ttfamily">DUP</tt>, <tt class="ttfamily">UNION</tt>, <tt class="ttfamily">INTERSECT</tt>, and
    <tt class="ttfamily">ADD</tt>.</p>
<ul class="itemize">
<li>
<p><tt class="ttfamily">PUSH</tt> will push the empty set
        {} on the stack.</p>
</li>
<li>
<p><tt class="ttfamily">DUP</tt> will duplicate the topmost
        set (pop the stack, and then push that set on the stack
        twice).</p>
</li>
<li>
<p><tt class="ttfamily">UNION</tt> will pop the stack twice
        and then push the union of the two sets on the stack.</p>
</li>
<li>
<p><tt class="ttfamily">INTERSECT</tt> will pop the stack
        twice and then push the intersection of the two sets on the
        stack.</p>
</li>
<li>
<p><tt class="ttfamily">ADD</tt> will pop the stack twice,
        add the first set to the second one, and then push the
        resulting set on the stack.</p>
</li>
</ul>
<p>For illustration purposes, assume that the topmost element
    of the stack is</p><span class="tex2jax_process">\[ A=\{ \{ \}
    , \{ \{ \} \} \} \]</span>
<p>and that the next one is</p><span class="tex2jax_process">\[
    B=\{ \{ \} , \{ \{ \{ \} \} \} \} . \]</span>
<p>For these sets, we have <span class="tex2jax_process">$|A|=2$</span> and <span class="tex2jax_process">$|B|=2$</span>. Then:</p>
<ul class="itemize">
<li>
<p><tt class="ttfamily">UNION</tt> would result in the set
        { {}, {{}}, {{{}}} }. The output is 3.</p>
</li>
<li>
<p><tt class="ttfamily">INTERSECT</tt> would result in the
        set { {} }. The output is 1.</p>
</li>
<li>
<p><tt class="ttfamily">ADD</tt> would result in the set {
        {}, {{{}}}, {{},{{}}} }. The output is 3.</p>
</li>
</ul>
<h2>Input</h2>
<p>An integer <span class="tex2jax_process">$0 \le T \le
    5$</span> on the first line gives the cardinality of the set of
    test cases. The first line of each test case contains the
    number of operations <span class="tex2jax_process">$0 \le N \le
    2\, 000$</span>. Then follow <span class="tex2jax_process">$N$</span> lines each containing one of the
    five commands. It is guaranteed that the SetStack computer can
    execute all the commands in the sequence without ever popping
    an empty stack.</p>
<h2>Output</h2>
<p>For each operation specified in the input, there will be one
    line of output consisting of a single integer. This integer is
    the cardinality of the topmost element of the stack after the
    corresponding command has executed. After each test case there
    will be a line with <tt class="ttfamily">***</tt> (three
    asterisks).</p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>
2
9
PUSH
DUP
ADD
PUSH
ADD
DUP
ADD
DUP
UNION
5
PUSH
PUSH
ADD
PUSH
INTERSECT
</pre>
</td>
<td>
<pre>
0
0
1
0
1
1
2
2
2
***
0
0
1
0
0
***
</pre>
</td>
</tr>
</table>
</div>