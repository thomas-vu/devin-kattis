<div class="problembody">
<p>Automatic Chemical Manufacturing is experimenting with a
    process called self-assembly. In this process, molecules with
    natural affinity for each other are mixed together in a
    solution and allowed to spontaneously assemble themselves into
    larger structures. But there is one problem: sometimes
    molecules assemble themselves into a structure of unbounded
    size, which gums up the machinery.</p>
<p>You must write a program to decide whether a given
    collection of molecules can be assembled into a structure of
    unbounded size. You should make two simplifying assumptions: 1)
    the problem is restricted to two dimensions, and 2) each
    molecule in the collection is represented as a square. The four
    edges of the square represent the surfaces on which the
    molecule can connect to other compatible molecules.</p>
<p>In each test case, you will be given a set of molecule
    descriptions. Each type of molecule is described by four
    two-character <em>connector labels</em> that indicate how its
    edges can connect to the edges of other molecules. There are
    two types of connector labels:</p>
<ul class="itemize">
<li>
<p>An uppercase letter (<span class="tex2jax_process">$A,
        \ldots , Z$</span>) followed by <span class="tex2jax_process">$+$</span> or <span class="tex2jax_process">$-$</span>. Two edges are compatible if
        their labels have the same letter but different signs. For
        example, <span class="tex2jax_process">$A+$</span> is
        compatible with <span class="tex2jax_process">$A-$</span>
        but is not compatible with <span class="tex2jax_process">$A+$</span> or <span class="tex2jax_process">$B-$</span>.</p>
</li>
<li>
<p>Two zero digits <span class="tex2jax_process">$00$</span>. An edge with this label is
        not compatible with any edge (not even with another edge
        labeled <span class="tex2jax_process">$00$</span>).</p>
</li>
</ul>
<p>Assume there is an unlimited supply of molecules of each
    type, which may be rotated and reflected. As the molecules
    assemble themselves into larger structures, the edges of two
    molecules may be adjacent to each other only if they are
    compatible. It is permitted for an edge, regardless of its
    connector label, to be connected to nothing (no adjacent
    molecule on that edge).</p>
<p>FigureÂ 1 shows an example of three molecule types and a
    structure of bounded size that can be assembled from them
    (other bounded structures are also possible with this set of
    molecules).</p>
<div class="figure" id="fig:assembly">
<center>
<img alt="\includegraphics[scale=0.5]{assembly1}" src="/problems/assembly/file/statement/en/img-0001.png" style="width:; height:"/> <img alt="\includegraphics[scale=0.5]{assembly2}" src="/problems/assembly/file/statement/en/img-0002.png" style="width:; height:"/>
<div class="caption">
<b>Figure 1</b>: Illustration of Sample Input 1.
        </div>
</center>
</div>
<p><br/></p>
<h2>Input</h2>
<p>The input consists of a single test case. A test case
    consists of two lines. The first contains an integer
    <span class="tex2jax_process">$n$</span> (<span class="tex2jax_process">$1 \leq n \leq 40\, 000$</span>) indicating
    the number of molecule types. The second line contains
    <span class="tex2jax_process">$n$</span> eight-character
    strings, each describing a single type of molecule, separated
    by single spaces. Each string consists of four two-character
    connector labels representing the four edges of the molecule in
    clockwise order.</p>
<h2>Output</h2>
<p>Display the word <tt class="tt">unbounded</tt> if the set of
    molecule types can generate a structure of unbounded size.
    Otherwise, display the word <tt class="tt">bounded</tt>.</p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>
3
A+00A+A+ 00B+D+A- B-C+00C+
</pre>
</td>
<td>
<pre>
bounded
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 2</th>
<th>Sample Output 2</th>
</tr>
<tr>
<td>
<pre>
1
K+K-Q+Q-
</pre>
</td>
<td>
<pre>
unbounded
</pre>
</td>
</tr>
</table>
</div>