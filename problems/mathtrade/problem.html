<div class="problembody">
<p>Suppose a group of people have objects they want to trade,
    and objects they want to get in return:</p>
<center>
<table cellspacing="0" class="tabular">
<tr>
<td style="text-align:center">
<p>Name</p>
</td>
<td style="text-align:center">
<p>Has</p>
</td>
<td style="text-align:center">
<p>Wants</p>
</td>
</tr>
<tr>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:center">
<p>Sally</p>
</td>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:center">
<p>Clock</p>
</td>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:center">
<p>Doll</p>
</td>
</tr>
<tr>
<td style="text-align:center">
<p>Steve</p>
</td>
<td style="text-align:center">
<p>Doll</p>
</td>
<td style="text-align:center">
<p>Painting</p>
</td>
</tr>
<tr>
<td style="text-align:center">
<p>Carlos</p>
</td>
<td style="text-align:center">
<p>Painting</p>
</td>
<td style="text-align:center">
<p>Clock</p>
</td>
</tr>
<tr>
<td style="text-align:center; border-bottom-style:solid; border-bottom-color:black; border-bottom-width:1px">
<p>Maria</p>
</td>
<td style="text-align:center; border-bottom-style:solid; border-bottom-color:black; border-bottom-width:1px">
<p>Candlestick</p>
</td>
<td style="text-align:center; border-bottom-style:solid; border-bottom-color:black; border-bottom-width:1px">
<p>Vase</p>
</td>
</tr>
</table>
</center>
<p>Notice how none of the people listed can pair off and trade
    with each other. However, if Sally, Steve, and Carlos all got
    together, Sally could trade her clock to Steve for the doll she
    wants, and Steve can then trade that clock to Carlos for the
    painting Steve wants.</p>
<p>This creation of a chain of individual trades that gets a
    large number of people the objects they want is called a
    <em>math trade</em>. A trade must involve at least two distinct
    people. Ideally everyone is involved in the math trade but that
    is not always possible (sorry Maria). The object therefore is
    to create a single chain of the longest length. Determining the
    longest math trade gets complicated if the participants have
    multiple items that they want to trade or obtain. Luckily for
    you, we are only worried about the situation where each person
    has and wants exactly one item, and no item is owned by or
    desired by more than one person.</p>
<h2>Input</h2>
<p>Input begins with a line containing a positive integer
    <span class="tex2jax_process">$n\, (n \leq 100)$</span>, the
    number of people interested in trading. After this are
    <span class="tex2jax_process">$n$</span> lines, each with three
    strings separated by spaces. The first string will be the name
    of the trader. The second string will be the object the trader
    has. The third string will be the object the trader wants. All
    trader names will be unique, use only decimal digits and
    English letters, and have between <span class="tex2jax_process">$1$</span> and <span class="tex2jax_process">$15$</span> characters. No object will be
    wanted by more than one person and owned by more than one
    person.</p>
<h2>Output</h2>
<p>Output the length of the longest math trade. If no trading
    is possible, output the phrase “No trades possible”</p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>4
Sally Clock Doll
Steve Doll Painting
Carlos Painting Clock
Maria Candlestick Vase
</pre>
</td>
<td>
<pre>3
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 2</th>
<th>Sample Output 2</th>
</tr>
<tr>
<td>
<pre>4
Abby Bottlecap Card
Bob Card Spoon
Chris Spoon Chair
Dan Pencil Pen
</pre>
</td>
<td>
<pre>No trades possible
</pre>
</td>
</tr>
</table>
</div>