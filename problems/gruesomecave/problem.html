<div class="problembody">
<div class="illustration" style="width:30.00%">
<img alt="/problems/gruesomecave/file/statement/en/img-0001.png" class="illustration" src="/problems/gruesomecave/file/statement/en/img-0001.png"/>
<div class="description">
<em>It is pitch black. You are likely to be eaten by a
        grue.</em>
</div>
</div>
<p>The archaeologist Joanina Iones has been hard at work
    deciphering the arcane glyphs in front of a secret cave
    entrance. The glyphs tell the story of the cave: It has existed
    long before the beginning of time, and with it, a single grue
    was brought to life. It has, of course, also a diamond in it,
    which is why Joanina is here.</p>
<p>Encountering a grue will always lead to a horrible death,
    but fortunately Joanina knows how grues work:</p>
<ul class="itemize">
<li>
<p>Every hour, a grue moves to a random neighboring tile
        with uniform probability, except if a human is in the cave.
        While a human is in the cave it stays in one place.</p>
</li>
<li>
<p>A grue does not like diamonds nor cave entrances, so it
        will never move to a cave entrance or a diamond tile.</p>
</li>
</ul>
<p>The glyphs also describe the map of the cave, as well as
    where the diamond is located. If Joanina wants to retrieve the
    diamond, how likely is it she encounters the grue using the
    least risky path?</p>
<h2>Input</h2>
<p>The first line of the input consists of two space-separated
    integers <span class="tex2jax_process">$L$</span> and
    <span class="tex2jax_process">$W$</span>, indicating the length
    and width of the map, respectively.<br/>
    Then follows <span class="tex2jax_process">$L$</span> lines
    each consisting of a string of length <span class="tex2jax_process">$W$</span>. Here, ‘ ’ denotes an empty tile,
    ‘<tt class="ttfamily">#</tt>’ denotes a wall, ‘<tt class="ttfamily">E</tt>’ denotes the cave entrance and ‘<tt class="ttfamily">D</tt>’ denotes the diamond’s location.</p>
<h2>Output</h2>
<p>Output the probability that Joanina will encounter the grue,
    assuming she chooses the least risky path. Your answer must
    have an absolute or relative error of at most <span class="tex2jax_process">$10^{-6}$</span>.</p>
<h2>Limits</h2>
<ul class="itemize">
<li>
<p><span class="tex2jax_process">$3 \leq L, W \leq
        30$</span></p>
</li>
<li>
<p><span class="tex2jax_process">$2 \leq S \leq 70$</span>,
        where <span class="tex2jax_process">$S$</span> is the
        number of ‘ ’ tiles.</p>
</li>
<li>
<p>The border of the map can only contain ‘<tt class="ttfamily">E</tt>’ and ‘<tt class="ttfamily">#</tt>’
        tiles.</p>
</li>
<li>
<p>The map will only contain the characters ‘ ’,
        ’<tt class="ttfamily">#</tt>’, ’<tt class="ttfamily">E</tt>’ and ’<tt class="ttfamily">D</tt>’ and
        there will only be one ’<tt class="ttfamily">E</tt>’
        character and one ’<tt class="ttfamily">D</tt>’ character
        per map.</p>
</li>
<li>
<p>There will always be a way from the entrance to the
        diamond.</p>
</li>
<li>
<p>All ‘ ’ tiles form a connected graph.</p>
</li>
</ul>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>5 6
######
## ###
E   D#
## ###
######
</pre>
</td>
<td>
<pre>0.75
</pre>
</td>
</tr>
</table>
</div>