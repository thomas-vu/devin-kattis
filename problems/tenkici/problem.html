<div class="problembody">
<p>Mirko found a collection of <span class="tex2jax_process">$N$</span> toy tanks dating back to the
    Second World War on his grandfather’s attic. He promptly called
    his friend Slavko to play with him. They made a battlefield – a
    wooden board consisting of squares in <span class="tex2jax_process">$N$</span> rows and <span class="tex2jax_process">$N$</span> columns.</p>
<p>Each tank can be moved to one of the four neighbouring
    squares in a single move. A tank can shoot at any square in the
    same row and column. The tank is said to be guarding the row
    and column it is in.</p>
<p>Additionally, no two tanks can be in the same square at any
    time.</p>
<p>After many hours of play and two previous attempts, Mirko’s
    mom yelled at them to come down for lunch again, and they
    decided to rearrange the tanks so that each tank guards a
    different row and column (meaning also that each row and column
    contains only one tank).</p>
<p>However, they want to do this using the minimum number of
    moves.</p>
<p>Write a program that finds the minimum number of moves
    required to rearrange the tanks so that each row and each
    column contains a single tank, and one such shortest sequence
    of moves.</p>
<h2>Input</h2>
<p>The first line of input contains the integer <span class="tex2jax_process">$N$</span> (<span class="tex2jax_process">$3
    \le N \le 500$</span>).</p>
<p>Each of the following <span class="tex2jax_process">$N$</span> lines contains two integers
    <span class="tex2jax_process">$R$</span> and <span class="tex2jax_process">$C$</span> (<span class="tex2jax_process">$1
    \le R, C \le N$</span>), the row and column of a single tank at
    the moment of mom’s call. No two tanks are on the same
    square.</p>
<p>Rows and columns are marked <span class="tex2jax_process">$1$</span> through <span class="tex2jax_process">$N$</span>, top-down and left-to-right.</p>
<h2>Output</h2>
<p>Output the minimum number of moves (call this number
    <span class="tex2jax_process">$K$</span>) on the first
    line.</p>
<p>Each of the next <span class="tex2jax_process">$K$</span>
    lines should contain the tank being moved and the direction it
    is moved in, separated by a single space.</p>
<p>Tanks are numbered <span class="tex2jax_process">$1$</span>
    through <span class="tex2jax_process">$N$</span>, in the order
    in which they are given in the input.</p>
<p>The direction can be one of four uppercase letters:
    ‘<tt class="ttfamily">L</tt>’ for left, ‘<tt class="ttfamily">R</tt>’ for right, ‘<tt class="ttfamily">U</tt>’ for
    up and ‘<tt class="ttfamily">D</tt>’ for down.</p>
<p>If there are multiple optimal solutions, any one will be
    accepted.</p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>5
1 1
1 2
1 3
1 4
1 5
</pre>
</td>
<td>
<pre>10
1 D
2 D
3 D
4 D
1 D
2 D
3 D
1 D
2 D
1 D
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 2</th>
<th>Sample Output 2</th>
</tr>
<tr>
<td>
<pre>5
2 3
3 2
3 3
3 4
4 3
</pre>
</td>
<td>
<pre>8
1 R
1 R
2 U
2 U
4 D
4 D
5 L
5 L
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 3</th>
<th>Sample Output 3</th>
</tr>
<tr>
<td>
<pre>6
1 1
1 2
2 1
5 6
6 5
6 6
</pre>
</td>
<td>
<pre>8
2 R
2 D
3 D
3 R
4 U
4 L
5 L
5 U
</pre>
</td>
</tr>
</table>
</div>