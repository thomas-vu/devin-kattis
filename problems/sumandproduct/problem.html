<div class="problembody">
<div class="illustration" style="width:30.00%">
<img alt="/problems/sumandproduct/file/statement/en/img-0001.jpg" class="illustration" src="/problems/sumandproduct/file/statement/en/img-0001.jpg"/>
<div class="description">
        Photo by <a href="https://www.pexels.com/photo/multicolored-abacus-photography-1019470/">
        Skitterphoto</a>
</div>
</div>
<p>Sarah and Patricia are young, very gifted sisters. Ever
    since they learned arithmetic in preschool, they have been
    bothering their mother Marguerite day and night to practice
    their calculations. Marguerite bought the two girls an
    arithmetic practice book, which has <span class="tex2jax_process">$n$</span> pages and a positive integer on
    each page. Those integers can be used for practicing arithmetic
    calculations. Marguerite hopes that the book can keep the two
    girls busy for a while so that she can work on her other
    chores.</p>
<p>Sarah and Patricia need to know whether their calculated
    answers are right, but Marguerite does not have the time to
    check their work. She therefore comes up with the clever idea
    of <i class="it">adversarial toddler training</i>. Marguerite
    knows that Sarah is good at addition and Patricia is talented
    in multiplication. So she first chooses a range of consecutive
    book pages (at least two), and then asks Sarah to calculate the
    sum of the integers on these pages, and asks Patricia to
    calculate the product of these integers. If she chooses the
    pages carefully, then the two girls’ answers would be the same,
    and she can simply let Sarah and Patricia compare their
    answers!</p>
<p>As Sarah and Patricia do not want to practice on the same
    range multiple times, Marguerite wants to know in how many
    different ways she can select a range of pages for her toddler
    training (and when to buy a new practice book).</p>
<h2>Input</h2>
<p>The input has a single integer <span class="tex2jax_process">$n$</span> (<span class="tex2jax_process">$2
    \leq n \leq 2 \cdot 10^5$</span>) on the first line. The second
    line has <span class="tex2jax_process">$n$</span> positive
    integers giving the numbers in the arithmetic practice book
    ordered by the pages. None of these integers are larger than
    <span class="tex2jax_process">$10^9$</span>.</p>
<h2>Output</h2>
<p>Output a single integer, the number of ways for Marguerite
    to choose a range of at least two consecutive pages so that
    Sarah’s answer matches Patricia’s.</p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>5
2 2 1 2 3
</pre>
</td>
<td>
<pre>2
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 2</th>
<th>Sample Output 2</th>
</tr>
<tr>
<td>
<pre>8
1 2 4 1 1 2 5 1
</pre>
</td>
<td>
<pre>4
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 3</th>
<th>Sample Output 3</th>
</tr>
<tr>
<td>
<pre>4
5 6 7 8
</pre>
</td>
<td>
<pre>0
</pre>
</td>
</tr>
</table>
</div>