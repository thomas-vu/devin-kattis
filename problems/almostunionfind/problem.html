<div class="problembody">
<p>I hope you know the beautiful Union-Find structure. In this
    problem, youâ€™re to implement something similar, but not
    identical. The data structure you need to write is also a
    collection of disjoint sets, supporting 3 operations:</p>
<dl class="description">
<dt><span class="tex2jax_process">$1\ p\ q$</span></dt>
<dd>
<p>Union the sets containing <span class="tex2jax_process">$p$</span> and <span class="tex2jax_process">$q$</span>. If <span class="tex2jax_process">$p$</span> and <span class="tex2jax_process">$q$</span> are already in the same set,
        ignore this command.</p>
</dd>
<dt><span class="tex2jax_process">$2\ p\ q$</span></dt>
<dd>
<p>Move <span class="tex2jax_process">$p$</span> to the set
        containing <span class="tex2jax_process">$q$</span>. If
        <span class="tex2jax_process">$p$</span> and <span class="tex2jax_process">$q$</span> are already in the same set,
        ignore this command</p>
</dd>
<dt><span class="tex2jax_process">$3\ p$</span></dt>
<dd>
<p>Return the number of elements and the sum of elements in
        the set containing <span class="tex2jax_process">$p$</span>.</p>
</dd>
</dl>
<p>Initially, the collection contains <span class="tex2jax_process">$n$</span> sets: <span class="tex2jax_process">$\{ 1\} , \{ 2\} , \{ 3\} , \ldots , \{ n\}
    $</span>.</p>
<p>As an example, consider the sequence of operations in sample
    input 1 below.</p>
<ul class="itemize">
<li>
<p>Initially: <span class="tex2jax_process">$\{ 1\} , \{
        2\} , \{ 3\} , \{ 4\} , \{ 5\} $</span></p>
</li>
<li>
<p>Collection after operation <tt class="ttfamily">1 1
        2</tt>: <span class="tex2jax_process">$\{ 1,2\} , \{ 3\} ,
        \{ 4\} , \{ 5\} $</span></p>
</li>
<li>
<p>Collection after operation <tt class="ttfamily">2 3
        4</tt>: <span class="tex2jax_process">$\{ 1,2\} , \{ 3,4\}
        , \{ 5\} $</span> (we omit the empty set that is produced
        when taking out <span class="tex2jax_process">$3$</span>
        from <span class="tex2jax_process">$\{ 3\} $</span>)</p>
</li>
<li>
<p>Collection after operation <tt class="ttfamily">1 3
        5</tt>: <span class="tex2jax_process">$\{ 1,2\} , \{
        3,4,5\} $</span></p>
</li>
<li>
<p>Collection after operation <tt class="ttfamily">2 4
        1</tt>: <span class="tex2jax_process">$\{ 1,2,4\} , \{
        3,5\} $</span></p>
</li>
</ul>
<h2>Input</h2>
<p>There are several test cases. Each test case begins with a
    line containing two integers <span class="tex2jax_process">$n$</span> and <span class="tex2jax_process">$m$</span> (<span class="tex2jax_process">$1
    \leq n,m \leq 100\, 000$</span>), the number of integers, and
    the number of commands. Each of the next <span class="tex2jax_process">$m$</span> lines contains a command. For
    every operation, <span class="tex2jax_process">$1\leq p,q\leq
    n$</span>. The input is terminated by end-of-file (EOF). There
    are at most <span class="tex2jax_process">$20$</span> cases,
    and the size of the input file does not exceed <span class="tex2jax_process">$5$</span> MB.</p>
<h2>Output</h2>
<p>For each type-<span class="tex2jax_process">$3$</span>
    command, output <span class="tex2jax_process">$2$</span>
    integers: the number of elements and the sum of elements.</p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>
5 7
1 1 2
2 3 4
1 3 5
3 4
2 4 1
3 4
3 3
</pre>
</td>
<td>
<pre>
3 12
3 7
2 8
</pre>
</td>
</tr>
</table>
</div>