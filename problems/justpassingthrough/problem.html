<div class="problembody">
<p>Justin and Fred are taking a road trip, traveling from West
    to East across their state. They have a few Road Trip
    Rules:</p>
<ol class="enumerate">
<li>
<p>They must have an awesome time!</p>
</li>
<li>
<p>The trip must begin somewhere along the Western edge of
        the state and finish somewhere along the Eastern edge of
        the state.</p>
</li>
<li>
<p>Each step in their trip must move them either directly
        East, diagonally Northeast, or diagonally Southeast.</p>
</li>
<li>
<p>They want to travel through exactly <span class="tex2jax_process">$n$</span> “passes” (defined below).</p>
</li>
<li>
<p>Due to Fred’s sensitivity to higher elevations, they
        wish to minimize the cumulative sum of elevations during
        the trip.</p>
</li>
<li>
<p>They must have an awesome time!</p>
</li>
</ol>
<p>Because Justin and Fred are traveling Eastward, a “pass” is
    any location with strictly lower elevations to its East and
    West and strictly higher elevations to its North and South.
    Consider the elevation map shown in Figure 1. Undrivable
    locations (either due to water or stubborn insistence on
    staying in-state) are shown in black, while passes are shown as
    gray. Locations adjacent to the border or to undrivable
    locations are not eligible for considerations as passes.</p>
<div class="figure" id="fig1:just">
<center>
<img alt="\includegraphics[width=0.33\textwidth ]{pic1}" src="/problems/justpassingthrough/file/statement/en/img-0001.png" style="width:33.00%"/>
<div class="caption">
<b>Figure 1</b>: A sample elevation map
        </div>
</center>
</div>
<h2>Input</h2>
<p>The input begins with three integers <span class="tex2jax_process">$r$</span> <span class="tex2jax_process">$c$</span> <span class="tex2jax_process">$n$</span> representing the number of rows
    and columns in the representation of the state’s topography
    (<span class="tex2jax_process">$3 \leq r, c \leq 500$</span>)
    and the exact number of passes to be crossed (<span class="tex2jax_process">$0 \leq n \leq 10$</span>). The next
    <span class="tex2jax_process">$r$</span> lines each contain
    <span class="tex2jax_process">$c$</span> elevation entries.
    Undrivable locations are represented by <span class="tex2jax_process">$-1$</span>, and all other elevations are
    between <span class="tex2jax_process">$0$</span> and
    <span class="tex2jax_process">$1\, 000$</span>. There is
    guaranteed to be at least one drivable location on both the
    Eastern and Western borders.</p>
<h2>Output</h2>
<p>Output the sum of the elevations along the optimal path
    which satisfies the Road Trip Rules. If no such path exists,
    output <tt class="ttfamily">impossible</tt>.</p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>5 7 2
-1 -1 2 5 4 3 1
3 4 1 4 1 2 1
3 4 5 5 3 4 5
2 3 2 1 2 3 2
-1 5 4 1 4 4 2
</pre>
</td>
<td>
<pre>14

</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 2</th>
<th>Sample Output 2</th>
</tr>
<tr>
<td>
<pre>4 3 1
3 4 5
2 4 2
1 5 4
1 1 1
</pre>
</td>
<td>
<pre>impossible
</pre>
</td>
</tr>
</table>
</div>