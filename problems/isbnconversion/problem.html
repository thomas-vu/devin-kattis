<div class="problembody">
<div class="illustration" style="width:28.00%">
<img alt="/problems/isbnconversion/file/statement/en/img-0001.jpg" class="illustration" src="/problems/isbnconversion/file/statement/en/img-0001.jpg"/>
<div class="description">
        Barcode with ISBN-10 above and ISBN-13 below
      </div>
</div>
<p>An ISBN (International Standard Book Number) is a unique
    identifier assigned to a distinct edition/version of a
    published book (for example, hardcover and paperback versions
    of the same edition get different ISBNs). ISBNs assigned before
    2007 were <span class="tex2jax_process">$10$</span> digits long
    (the <span class="mbox" style="width:">ISBN-10</span>
    standard), and ISBNs assigned on or after January 1, 2007,
    are <span class="tex2jax_process">$13$</span> digits long (the
    <span class="mbox" style="width:">ISBN-13</span> standard).
    Some books issued before 2007 that are still in print have both
    an original <span class="mbox" style="width:">ISBN-10</span>
    and a matching <span class="mbox" style="width:">ISBN-13</span>, and some newer books are also given both
    an <span class="mbox" style="width:">ISBN-10</span> and an
    <span class="mbox" style="width:">ISBN-13</span>, the former
    for backward-compatibility purposes. That “double identity”
    situation is the basis for this problem, which requires you to
    convert valid <span class="mbox" style="width:">ISBN-10s</span>
    to their corresponding <span class="mbox" style="width:">ISBN-13s</span>.</p>
<p>The last digit of any ISBN is a <em>checksum digit</em> that
    can be used for simple error detection. <span class="mbox" style="width:">ISBN-10</span> and <span class="mbox" style="width:">ISBN-13</span> use different rules for
    computing/verifying this last digit:</p>
<ol class="enumerate">
<li>
<p><span class="mbox" style="width:">ISBN-10</span>: If the
        <span class="tex2jax_process">$10$</span> digits from left
        to right are <span class="tex2jax_process">$d_1, d_2,
        \ldots , d_{10}$</span> (so <span class="tex2jax_process">$d_{10}$</span> is the checksum digit),
        and if</p><span class="tex2jax_process">\[ S = 10 \cdot d_1
        + 9 \cdot d_2 + 8 \cdot d_3 + \ldots + 2 \cdot d_9 + 1
        \cdot d_{10} \]</span>
<p>(coefficients decrease from <span class="tex2jax_process">$10$</span> to <span class="tex2jax_process">$1$</span>), then <span class="tex2jax_process">$S$</span> must be a multiple
        <span class="tex2jax_process">$\textrm{of }11$</span>,
        i.e., <span class="tex2jax_process">$S \equiv 0$</span>
<span class="tex2jax_process">$(\textrm{mod
        }11)$</span>.</p>
</li>
<li>
<p><span class="mbox" style="width:">ISBN-13</span>: If the
        <span class="tex2jax_process">$13$</span> digits from left
        to right are <span class="tex2jax_process">$d_1, d_2,
        \ldots , d_{13}$</span> (so <span class="tex2jax_process">$d_{13}$</span> is the checksum digit),
        and if</p><span class="tex2jax_process">\[ S = 1 \cdot d_1
        + 3 \cdot d_2 + 1 \cdot d_3 + 3 \cdot d_4 + \ldots + 3
        \cdot d_{12} + 1 \cdot d_{13} \]</span>
<p>(odd-indexed digits are multiplied by <span class="tex2jax_process">$1$</span>, even-indexed digits are
        multiplied <span class="tex2jax_process">$\textrm{by
        }3$</span>), then <span class="tex2jax_process">$S$</span>
        must be a multiple <span class="tex2jax_process">$\textrm{of }10$</span>, i.e.,
        <span class="tex2jax_process">$S \equiv 0$</span>
<span class="tex2jax_process">$(\textrm{mod
        }10)$</span>.</p>
</li>
</ol>
<p>It is not hard to see that each rule uniquely determines the
    checksum digit (given the other digits).</p>
<p><em>X Factor</em>: Note the following small but important
    detail for <span class="mbox" style="width:">ISBN-10</span>
    that does not apply to <span class="mbox" style="width:">ISBN-13</span>: because the modulus <span class="tex2jax_process">$\textrm{is }11$</span>, the value of the
    checksum digit lies in <span class="tex2jax_process">$\{ 0, 1,
    2, \ldots , 9, 10\} $</span>, and in the special case that the
    value of the checksum digit <span class="tex2jax_process">$\textrm{is }10$</span>, it is written
    as X so that only one character is required. So, for
    example, <span class="tex2jax_process">$039428013\textrm{X}$</span> is a valid
    <span class="mbox" style="width:">ISBN-10</span>.</p>
<p><em>Hyphens</em>: Technically an <span class="mbox" style="width:">ISBN-10</span> consists of four parts, one of which is
    the checksum digit. (The exact rules defining the first three
    parts are complicated, so we will not deal with them here.) Two
    adjacent parts can optionally be separated by a hyphen, which
    means that an <span class="mbox" style="width:">ISBN-10</span>
    may contain up to three hyphens, but it cannot begin or end
    with a hyphen, and it cannot contain consecutive hyphens. If
    there are three hyphens, one must separate the checksum digit
    from the digit that precedes it (if there are fewer than three
    hyphens, there may or may not be a hyphen between the checksum
    digit and the digit that precedes it). So, for the purposes of
    this problem, the following are valid <span class="mbox" style="width:">ISBN-10s</span>:</p>
<center>
<span class="tex2jax_process">$039428013\textrm{-X}$</span><br/>
<span class="tex2jax_process">$0\textrm{-}39\textrm{-}428013\textrm{X}$</span><br/>
<span class="tex2jax_process">$3\textrm{-}540\textrm{-}42580\textrm{-}2$</span><br/>
<span class="tex2jax_process">$3540425802$</span>
</center>
<p>And the following are <em>invalid</em> <span class="mbox" style="width:">ISBN-10s</span> (the first two because of a
    hyphen-placement error, the last because it fails the checksum
    test above):</p>
<center>
<span class="tex2jax_process">$3\textrm{-}540\textrm{-}4258\textrm{-}02$</span><br/>
<span class="tex2jax_process">$3\textrm{-}540\textrm{-}425802\textrm{-}$</span><br/>
<span class="tex2jax_process">$0\textrm{-}14\textrm{-}028333\textrm{-}3$</span>
</center>
<p>How do you convert an <span class="mbox" style="width:">ISBN-10</span> to an <span class="mbox" style="width:">ISBN-13</span>? Simply (i) prepend the three digits
    <span class="tex2jax_process">$978$</span>, (ii) remove
    the old checksum digit, and (iii) append a new checksum
    digit as determined by the <span class="mbox" style="width:">ISBN-13</span> rule.<a class="footnote" href="#a0000000004"><sup class="footnotemark">1</sup></a> To keep things
    simple, maintain the positions of any existing hyphens, and
    follow the prepended 978 with a hyphen.</p>
<h2>Input</h2>
<p>The first line of input contains an integer, <span class="tex2jax_process">$T$</span> <span class="tex2jax_process">$(1
    \leq T \leq 25)$</span>, the number of (possibly invalid)
    <span class="mbox" style="width:">ISBN-10s</span> to process.
    This is followed by <span class="tex2jax_process">$T$</span>
    lines, each of which contains a nonempty string of length
    between <span class="tex2jax_process">$10$</span> and
    <span class="tex2jax_process">$13$</span>, inclusive. Each
    character is either a <span class="tex2jax_process">$\textrm{base-}10$</span> digit (‘<tt class="ttfamily">0</tt>’ to ‘<tt class="ttfamily">9</tt>’), a hyphen
    (‘<tt class="ttfamily">-</tt>’), or ‘<tt class="ttfamily">X</tt>’ (capital X).</p>
<h2>Output</h2>
<p>For each test case, if the candidate <span class="mbox" style="width:">ISBN-10</span> is not valid according to the
    details given above, output a line containing “<tt class="ttfamily">invalid</tt>”. Otherwise, output a line containing
    the corresponding <span class="mbox" style="width:">ISBN-13</span>.</p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>4
3-540-4258-02
039428013X
3-540-42580-2
0-14-028333-3
</pre>
</td>
<td>
<pre>invalid
978-0394280134
978-3-540-42580-9
invalid
</pre>
</td>
</tr>
</table>
</div>