<div class="problembody">
<p>After numerous unfortunate freak fatalities and the
    lawsuits, settlements, protests, and boycotts that naturally
    followed, the beleaguered executives at ACME Clock
    Manufacturers have decided they need to finally fix their
    disastrous quality control issues. It has been known for years
    that the digital clocks they manufacture have an unacceptably
    high ratio of faulty liquid-crystal display (LCD) screens, and
    yet these heartless souls have repeatedly failed to address the
    issue, or even warn their hapless consumers!</p>
<p>You have been called in as a quality consultant to finally
    put a stop to the madness. Your job is to write an automated
    program that can test a clock and find faults in its
    display.</p>
<p>These clocks use a standard 7-segment LCD display for all
    digits (shown on the left in Figure 1), plus two small
    segments for the ‘:’, and show all times in a 24-hour format.
    The minute before midnight is 23:59, and midnight is 0:00. The
    ‘:’ segments of a working clock are on at all times. The
    representation of each digit using the seven segments is shown
    on the right in Figure 1.</p>
<div class="figure" id="fig:clock">
<center>
<img alt="\includegraphics[width=0.75\textwidth ]{clock.jpg}" src="/problems/clock/file/statement/en/img-0001.jpg" style="width:75.00%"/>
<div class="caption">
<b>Figure 1</b>: LCD display of each digit.
        </div>
</center>
</div>
<p>Your program will be given the display of a clock at several
    consecutive minutes, although you do not know exactly what time
    these displays start. Some of the LCD segments are burnt out
    (permanently off) and some are burnt in (permanently on). Your
    program must determine, where possible, which segments are
    definitely malfunctioning and which are definitely in working
    order.</p>
<h2>Input</h2>
<p>The first input line contains a single integer <span class="tex2jax_process">$n$</span> (<span class="tex2jax_process">$1
    \leq n \leq 100$</span>), which is the number of consecutive
    minutes of a clock’s display. The next <span class="tex2jax_process">$8n-1$</span> lines contain <span class="tex2jax_process">$n$</span> ASCII images of these clock
    displays of size <span class="tex2jax_process">$7 \times
    21$</span>, with a single blank line separating the
    representations.</p>
<p>All digit segments are represented by two characters, and
    each colon segment is represented by one character. The
    character ‘<tt class="tt">X</tt>’ indicates a segment that is
    on. The character ‘<tt class="tt">.</tt>’ indicates anything
    else (segments that are off or non-segment portions of the
    display). See the sample input/output for details; the first
    output shows every possible LCD segment along with the smaller
    segments used to represent the ‘:’. No clock representation has
    an ‘<tt class="tt">X</tt>’ in a non-segment position or only
    half of a segment showing.</p>
<h2>Output</h2>
<p>Display a <span class="tex2jax_process">$7 \times 21$</span>
    ASCII image with a ‘<tt class="tt">0</tt>’ for every segment
    that is burnt out, a ‘<tt class="tt">1</tt>’ for every segment
    that is burnt in, a ‘<tt class="tt">W</tt>’ for every segment
    that is definitely working, and a ‘<tt class="tt">?</tt>’ for
    every segment for which the status cannot be determined. Use
    ‘<tt class="tt">.</tt>’ for non-segments. If the given displays
    cannot come from consecutive minutes, display <tt class="tt">impossible</tt>.</p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>
3
......XX.....XX...XX.
.....X..X...X..X....X
.....X..X.X.X..X....X
.............XX...XX.
.....X..X......X.X..X
.....X..X......X.X..X
......XX.....XX...XX.

......XX.....XX...XX.
.....X..X...X..X....X
.....X..X.X.X..X....X
.............XX...XX.
.....X..X......X.X..X
.....X..X......X.X..X
......XX.....XX...XX.

.............XX...XX.
........X...X..X....X
........X.X.X..X....X
.............XX......
........X...X..X.X..X
........X...X..X.X..X
......XX.....XX...XX.
</pre>
</td>
<td>
<pre>
.??...WW.....??...??.
?..?.W..?...?..1.0..?
?..?.W..?.?.?..1.0..?
.??...??.....11...WW.
?..?.W..?.0.W..?.1..?
?..?.W..?...W..?.1..?
.??...11.....??...??.
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 2</th>
<th>Sample Output 2</th>
</tr>
<tr>
<td>
<pre>
2
......XX.....XX...XX.
...X....X...X..X.X..X
...X....X.X.X..X.X..X
......XX..........XX.
...X.X....X.X..X.X..X
...X.X......X..X.X..X
......XX.....XX...XX.

......XX.....XX......
...X....X...X..X.....
...X....X.X.X..X.....
......XX.............
...X.X....X.X..X.....
...X.X......X..X.....
......XX.....XX......
</pre>
</td>
<td>
<pre>
impossible
</pre>
</td>
</tr>
</table>
</div>