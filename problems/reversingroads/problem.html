<div class="problembody">
<p>You work for the city of One-Direction-Ville. The city
    mandates that every road in its limits be one direction only.
    You are evaluating proposals for a new subdivision and its road
    network. One problem youâ€™ve observed in some early proposals is
    that it is impossible to get to certain locations from others
    along the proposed roads. In order to speed up evaluation of
    subsequent proposals, you want to write a program to determine
    if it is possible to get to any location from any other
    location; you call this a <em>valid</em> proposal. And if a
    proposal is not valid, then your program should find out if
    there is an easy way to fix it by reversing the direction of
    one of the roads.</p>
<h2>Input</h2>
<p>Input consists of several test cases, at most <span class="tex2jax_process">$5$</span>. Each test case begins with a line
    containing two integers, <span class="tex2jax_process">$1 \leq
    m \leq 50$</span> and <span class="tex2jax_process">$0 \leq n
    \leq m(m-1)/2$</span>. <span class="tex2jax_process">$m$</span>
    indicates the number of locations in the proposal, and
    <span class="tex2jax_process">$n$</span> indicates the number
    of roads connecting these locations. Following this are
    <span class="tex2jax_process">$n$</span> lines. Each line
    contains two space-separated integers <span class="tex2jax_process">$a$</span> and <span class="tex2jax_process">$b$</span>, where <span class="tex2jax_process">$0 \leq a, b &lt; m$</span> and <span class="tex2jax_process">$a\neq b$</span>. This indicates that there
    is a road from location <span class="tex2jax_process">$a$</span> to location <span class="tex2jax_process">$b$</span>. If there is a road from
    <span class="tex2jax_process">$a$</span> to <span class="tex2jax_process">$b$</span>, then there will be <em>no</em>
    road from <span class="tex2jax_process">$b$</span> to
    <span class="tex2jax_process">$a$</span>. Also, there will
    never be more than one road between two locations.</p>
<p>The last test case is followed by end-of-file.</p>
<h2>Output</h2>
<p>For each case, display the case number followed by an
    indication of whether the proposal is valid or not. If the
    proposal is valid, output <tt class="tt">valid</tt>. If it is
    not valid, but by reversing the direction of one roads it can
    become valid, print the two locations which describe the
    existing road that should be reversed. If more than one road
    reversal can create a valid proposal, print the first one that
    appears in the input. If the proposal is not valid and
    impossible to become valid by reversing one road, print
    <tt class="tt">invalid</tt>. Follow the format of the sample
    output.</p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>3 3
0 1
1 2
2 0
3 3
0 1
1 2
0 2
3 2
1 2
0 2
4 4
0 1
1 2
2 3
0 3
</pre>
</td>
<td>
<pre>Case 1: valid
Case 2: 0 2
Case 3: invalid
Case 4: 0 3
</pre>
</td>
</tr>
</table>
</div>