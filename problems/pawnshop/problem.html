<div class="problembody">
<p>You run a tight ship at the pawn shop. You arrange certain
    items in the window to be displayed to the street. You
    sometimes display the same type of item multiple times. For
    simplicity, we think of the items on display as a sequence of
    values where the value represents the type of item being
    shown.</p>
<p>For example, your display could be this
    sequence:</p><span class="tex2jax_process">\[ 1\ 2\ 6\ 2\ 7\ 9\
    8\ 5 \]</span>
<p>After coming back from your latest vacation, you find that
    your staff has completely rearranged the display by moving
    items around. Yikes! For example, the display above could be
    rearranged to:</p><span class="tex2jax_process">\[ 2\ 6\ 1\ 2\
    9\ 7\ 5\ 8 \]</span>
<p>You fear this could be the cause of confusion and may scare
    off repeat customers. But you donâ€™t have time to move items
    back to their original positions.</p>
<p>As a compromise, you will put dividers up in the window to
    partition the displayed items into groups of consecutive items.
    Each group should be a rearrangement of the types of items that
    were in those positions in your preferred arrangement.</p>
<p>More precisely, let <span class="tex2jax_process">$a_1,
    \ldots , a_ N$</span> denote the first sequence and
    <span class="tex2jax_process">$b_1, \ldots , b_ N$</span>
    denote the second sequence. You may place dividers around
    <span class="tex2jax_process">$i, i+1, \ldots , j$</span> if
    <span class="tex2jax_process">$b_ i, b_{i+1}, \ldots , b_
    j$</span> is a rearrangement of <span class="tex2jax_process">$a_ i, a_{i+1}, \ldots , a_ j$</span>. You do
    not need to put a divider at the beginning or end of the
    sequence. Note, if <span class="tex2jax_process">$a_ i = b_
    i$</span> then a group may be formed using just this single
    index <span class="tex2jax_process">$i$</span>.</p>
<p>With the sequences above, you could place dividers (shown
    here as <span class="tex2jax_process">$\# $</span>) at three
    positions as indicated here:</p><span class="tex2jax_process">\[ 2\ 6\ 1\ \# \ 2\ \# \ 7\ 9\ \# \ 5\ 8
    \]</span>
<p>It is not possible to divide the sequence into more than
    four groups that have this property.</p>
<p>Given the two sequences, determine how to partition the new
    sequence into the maximum possible number of groups.</p>
<h2>Input</h2>
<p>The first line of input contains a single integer
    <span class="tex2jax_process">$N$</span> (<span class="tex2jax_process">$1 \leq N \leq 300\, 000$</span>), which is
    the length of the two sequences.</p>
<p>The next line contains <span class="tex2jax_process">$N$</span> integers <span class="tex2jax_process">$a_1, \ldots , a_ N$</span> (<span class="tex2jax_process">$1 \leq a_ i \leq 10^9$</span>), which is the
    original sequence.</p>
<p>The next line contains <span class="tex2jax_process">$N$</span> integers <span class="tex2jax_process">$b_1, \ldots , b_ N$</span> (<span class="tex2jax_process">$1 \leq b_ i \leq 10^9$</span>), which is the
    rearranged sequence. The values <span class="tex2jax_process">$b_1, \ldots , b_ N$</span> are a
    rearrangement of the values <span class="tex2jax_process">$a_1,
    \ldots , a_ N$</span>.</p>
<h2>Output</h2>
<p>Display the rearranged sequence with a valid and maximum
    placing of dividers (<span class="tex2jax_process">$\#
    $</span>).</p>
<p>If there are multiple possible solutions, display any of
    them.</p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>8
1 2 6 2 7 9 8 5
2 6 1 2 9 7 5 8
</pre>
</td>
<td>
<pre>2 6 1 # 2 # 9 7 # 5 8
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 2</th>
<th>Sample Output 2</th>
</tr>
<tr>
<td>
<pre>4
1 1 2 1
2 1 1 1
</pre>
</td>
<td>
<pre>2 1 1 # 1
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 3</th>
<th>Sample Output 3</th>
</tr>
<tr>
<td>
<pre>3
1 2 5
2 5 1
</pre>
</td>
<td>
<pre>2 5 1
</pre>
</td>
</tr>
</table>
</div>