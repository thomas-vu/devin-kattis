<div class="problembody">
<div class="illustration" style="width:40.00%">
<img alt="/problems/kingscolors/file/statement/en/img-0001.jpg" class="illustration" src="/problems/kingscolors/file/statement/en/img-0001.jpg"/>
<div class="description">
<a href="https://pixabay.com/en/tree-colored-design-1326962/">Picture</a>
        by Geddo via Pixabay, CC0
      </div>
</div>Far, far away, there is the mystical Kingdom of Trees
    (more formally, “Royal Commonwealth of Connected Undirected
    Simple Acyclic Graphs”). The King there is very sad because his
    kingdom is not accepted as a sovereign state in the United
    Nations. In order to become a member, he needs to make a flag
    the UN can put on their website.
    <p>The flag will of course consist of the King’s favorite tree,
    which contains <span class="tex2jax_process">$n$</span> nodes.
    The King would be happy to just have the tree colored in black
    and white, but for the sake of his wife the Queen, he decided
    that the tree will contain all the favorite colors of their
    <span class="tex2jax_process">$k$</span> children (they all
    have distinct favorite colors). Clearly, no two neighboring
    nodes can have the same color, but otherwise any coloring of
    the tree using exactly the <span class="tex2jax_process">$k$</span> colors would make a feasible flag
    candidate.</p>
<p>How many different flags are possible?</p>
<h2>Input</h2>
<p>The first line contains two integers <span class="tex2jax_process">$n$</span> and <span class="tex2jax_process">$k$</span> (<span class="tex2jax_process">$2
    \le k \le n \le 2\, 500$</span>), where <span class="tex2jax_process">$n$</span> is the number of nodes in the
    King’s favorite tree and <span class="tex2jax_process">$k$</span> is the number of children. Then
    follow <span class="tex2jax_process">$n-1$</span> lines
    describing the edges in the tree; the <span class="tex2jax_process">$i$</span>’th of these lines contains a
    non-negative integer <span class="tex2jax_process">$p_ i &lt;
    i$</span>, meaning that node <span class="tex2jax_process">$p_
    i$</span> is the parent of <span class="tex2jax_process">$i$</span>.</p>
<p>The nodes are numbered from <span class="tex2jax_process">$0$</span> to <span class="tex2jax_process">$n-1$</span> and the tree is rooted at node
    <span class="tex2jax_process">$0$</span>. Note that the
    embedding of the tree on the flag is already fixed, the only
    thing that remains is to assign colors.</p>
<h2>Output</h2>
<p>Output the number of different possible color assignments.
    The number can be quite big, so the King has requested to know
    the answer modulo <span class="tex2jax_process">$1\, 000\,
    000\, 007$</span>.</p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>4 3
0
1
1
</pre>
</td>
<td>
<pre>18
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 2</th>
<th>Sample Output 2</th>
</tr>
<tr>
<td>
<pre>6 4
0
1
1
3
4
</pre>
</td>
<td>
<pre>600
</pre>
</td>
</tr>
</table>
</div>