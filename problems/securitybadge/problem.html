<div class="problembody">
<div class="illustration" style="width:20.00%">
<img alt="/problems/securitybadge/file/statement/en/img-0001.png" class="illustration" src="/problems/securitybadge/file/statement/en/img-0001.png"/>
<div class="description"></div>
</div>The home office of Labyrinthian Inc. has installed a new
    system of security badges and electronic door locks. Each badge
    is assigned an ID number, and the idea was that electronic
    locks on each door should allow access only to personnel whose
    ID number indicated that they had appropriate security
    clearance to enter that room, hallway, closet, or whatever lay
    on the other side of the door.

    <p>The contract for the lock system, however, was put out to
    the lowest bidder, who clearly misunderstood the intention.
    Instead of each lock storing a list of permitted ID numbers,
    instead each lock stores exactly two numbers, a lower and upper
    bound, and permits passage to badges whose number lies between
    those bounds. For example, a lock keyed as <span class="tex2jax_process">$(25, 29)$</span> would pass only badges
    <span class="tex2jax_process">$25, 26, 27, 28,$</span> and
    <span class="tex2jax_process">$29$</span>.</p>
<p>Complicating the matter is the fact that lock on each side
    of the door can be keyed differently, so a person who is able
    to pass through the door in one direction might not be able to
    return once the door has closed behind them.</p>
<p>The results have been frustrating (and occasionally
    entertaining â€“ videos of everyone in the company trying to find
    a way to the cafeteria at noon have gone viral on social
    media).</p>
<p>It has become a major task, when hiring or promoting any
    employee, to find a badge number that will actually get them
    from the front door to their new office.</p>
<p>Write a program to determine how many badge numbers will
    permit passage from one given room to another.</p>
<h2>Input</h2>
<p>The first line of input will contain integers <span class="tex2jax_process">$N$</span>, <span class="tex2jax_process">$L$</span>, and <span class="tex2jax_process">$B$</span>, denoting the number of rooms, of
    locks, and of badge numbers, respectively. <span class="tex2jax_process">$2 \leq N \leq 1\, 000$</span>, <span class="tex2jax_process">$1 \leq L \leq 5\, 000$</span>, <span class="tex2jax_process">$1 \leq B \leq 10^9$</span></p>
<p>The next line of input will contain two integers,
    <span class="tex2jax_process">$S$</span> and <span class="tex2jax_process">$D$</span>, <span class="tex2jax_process">$1
    \leq S \leq N$</span>, <span class="tex2jax_process">$1 \leq D
    \leq N$</span>, <span class="tex2jax_process">$S \neq
    D$</span>, denoting the starting and destination rooms that we
    are interested in.</p>
<p>This is followed by <span class="tex2jax_process">$L$</span>
    lines, each describing a lock as four integers:</p><span class="tex2jax_process">\[ a \; b \; x \; y \]</span>
<p>indicating that a lock permits passage from room
    <span class="tex2jax_process">$a$</span> to room <span class="tex2jax_process">$b$</span> (but not from <span class="tex2jax_process">$b$</span> to <span class="tex2jax_process">$a$</span>) for badges numbered from
    <span class="tex2jax_process">$x$</span> to <span class="tex2jax_process">$y$</span>, inclusive. It is guaranteed that
    <span class="tex2jax_process">$1 \leq a, b \leq N$</span>,
    <span class="tex2jax_process">$a \neq b$</span>, <span class="tex2jax_process">$1 \leq x \leq B$</span>, <span class="tex2jax_process">$1 \leq y \leq B$</span>, <span class="tex2jax_process">$x \leq y$</span>, and no <span class="tex2jax_process">$(a,b)$</span> pair will occur more than
    once, although both <span class="tex2jax_process">$(a,b)$</span> and <span class="tex2jax_process">$(b,a)$</span> may occur within separate
    lines.</p>
<h2>Output</h2>
<p>Print a single line indicating the number of badge ID
    numbers permitting passage from room <span class="tex2jax_process">$S$</span> to room <span class="tex2jax_process">$D$</span></p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>
4 5 10
3 2
1 2 4 7
3 1 1 6
3 4 7 10
2 4 3 5
4 2 8 9
</pre>
</td>
<td>
<pre>
5
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 2</th>
<th>Sample Output 2</th>
</tr>
<tr>
<td>
<pre>
4 5 9
1 4
1 2 3 5
1 3 6 7
1 4 2 3
2 4 4 6
3 4 7 9
</pre>
</td>
<td>
<pre>
5
</pre>
</td>
</tr>
</table>
</div>