<div class="problembody">
<div class="illustration" style="width:50.00%">
<img alt="/problems/reactivity/file/statement/en/img-0001.jpg" class="illustration" src="/problems/reactivity/file/statement/en/img-0001.jpg"/>
<div class="description">
        Picture by <a href="http://www.flickr.com/photos/matthewvenn/366986755/sizes/z/in/photostream/">
        matthewvenn</a>
</div>
</div>
<p>During his physics research, the Ph.D. candidate Ulf
    invented some new metals as the existing ones were not good
    enough. He is now investigating the properties of the new
    metals, and is interested in knowing how reactive they are, so
    that he won’t blow his house up while mixing them with
    water.</p>
<p>He wants to order the metals by reactivity into a so-called
    reactivity series, where the metal with the highest reactivity
    comes first, and lowest reactivity comes last. Normally, Ulf
    (who is also proficient in computer science) would make an
    optimal scheme of measurements such that he has to make as few
    measurements as possible to determine such a series.
    Unfortunately, having invented entirely new substances, he was
    eager to begin experimenting, and randomly took pairs of
    elements and compared their reactivity.</p>
<p>Ulf’s experiments consisted of taking two different metals,
    and testing which one had the highest reactivity. You may
    assume Ulf never makes mistakes in his experiments, and that
    the reactivity is distinct for all elements (i.e. for any pair
    of metals, one will always be the more reactive one). This
    relation is such that if metal <span class="tex2jax_process">$A$</span> is more reactive than metal
    <span class="tex2jax_process">$B$</span> which in turn is more
    reactive than metal <span class="tex2jax_process">$C$</span>,
    it follows that <span class="tex2jax_process">$A$</span> is
    more reactive than <span class="tex2jax_process">$C$</span> as
    well.</p>
<p>Before continuing his experiments, he is wondering whether
    the measurements he already has are enough to determine a
    unique reactivity series of all his metals.</p>
<h2>Input</h2>
<p>The first line will consist of two integers <span class="tex2jax_process">$1 \le N \le 1\, 000$</span>, the number of
    metals Ulf had discovered and <span class="tex2jax_process">$0
    \le K \le \frac{N(N-1)}{2}$</span>, the number of experiments
    Ulf performed. This is followed by <span class="tex2jax_process">$K$</span> lines, each consisting of two
    space separated integers <span class="tex2jax_process">$0 \le A
    \not= B \le N-1$</span>, stating that the <span class="tex2jax_process">$A$</span>:th metal has a higher reactivity
    than the <span class="tex2jax_process">$B$</span>:th metal. The
    metals are numbered from 0 to <span class="tex2jax_process">$N-1$</span>.</p>
<h2>Output</h2>
<p>Output consists of <span class="tex2jax_process">$N$</span>
    integers from 0 to <span class="tex2jax_process">$N-1$</span>,
    creating a reactivity series. The number of the metal with
    highest reactivity is the first one, with every following metal
    being of lower reactivity than the previous one. If it is
    impossible to construct a <em>unique</em> series containing
    <em>all</em> the metals, output the message <tt class="ttfamily">"back to the lab"</tt> instead.</p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>
2 1
0 1
</pre>
</td>
<td>
<pre>
0 1 
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 2</th>
<th>Sample Output 2</th>
</tr>
<tr>
<td>
<pre>
4 4
0 1
0 2
2 3
1 3
</pre>
</td>
<td>
<pre>
back to the lab
</pre>
</td>
</tr>
</table>
</div>