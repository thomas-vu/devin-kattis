<div class="problembody">
<div class="illustration" style="width:30.00%">
<img alt="/problems/bastubad/file/statement/en/img-0001.jpg" class="illustration" src="/problems/bastubad/file/statement/en/img-0001.jpg"/>
<div class="description">
        Picture by <a href="https://commons.wikimedia.org/wiki/File:Smoke_sauna.JPG">SM</a>
        (cc-by-sa3.0)
      </div>
</div>Finns love to use saunas. It’s actually not so strange.
    Sauna bathing feels good and usually takes place among good
    company.
    <p>However, problems often occur when there is company. The
    most important thing when one uses a sauna is that the
    temperature is set correctly. A Finn can be really fussy about
    a sauna’s temperature. Different Finns have different maximum
    temperatures that they tolerate. If the temperature is too high
    for a particular Finn, that Finn will go home. Within the
    temperature range that a particular Finn can handle, that Finn
    has a different level of happiness depending on the
    temperature. A Finn’s happiness follows a quadratic function
    (of the form <span class="tex2jax_process">$ax^2 + bx +
    c$</span>).</p>
<p>A large number of Finns are using the sauna and they need
    your help. Can you find the maximum sum of the Finns’ happiness
    if the sauna’s temperature is set optimally? If the temperature
    is set higher than a Finn can tolerate, that Finn contributes
    nothing to the total happiness (they have gone home instead).
    The temperature is given in kelvin, with a lower bound of
    <span class="tex2jax_process">$0 \textrm{ K}$</span> and an
    upper bound of <span class="tex2jax_process">$100\, 000
    \textrm{ K}$</span>.</p>
<h2>Input</h2>
<p>The first line contains an integer <span class="tex2jax_process">$1 \le N \le 100\, 000$</span>, which is the
    number of Finns. After that follow <span class="tex2jax_process">$N$</span> lines, one per Finn. Each line
    contains four integers <span class="tex2jax_process">$a, b,
    c$</span>, and <span class="tex2jax_process">$t$</span>
    (<span class="tex2jax_process">$-10^9 \le a,b,c \le 10^9, 1 \le
    t \le 100\, 000$</span>), which represent that the Finn has
    happiness function <span class="tex2jax_process">$ax^2 + bx +
    c$</span>, and can only handle temperatures between
    <span class="tex2jax_process">$0 \textrm{ K}$</span> and
    <span class="tex2jax_process">$t\textrm{ K}$</span>, inclusive.
    The function is guaranteed to be positive over all values
    between <span class="tex2jax_process">$0$</span> and
    <span class="tex2jax_process">$t$</span>.</p>
<h2>Output</h2>
<p>Write out a single number: the largest possible happiness
    that can be achieved if the temperature is set correctly. The
    answer will be accepted if it has a relative or absolute error
    of at most <span class="tex2jax_process">$10^{-5}$</span>.</p>
<h2>Points</h2>
<p>Your solution will be tested on several test case groups. To
    get points for a group, your solution must pass all the test
    cases in the group.</p>
<table cellspacing="0" class="tabular">
<tr>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:left; border-right:1px solid black; border-left:1px solid black">
<p>Group</p>
</td>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:left; border-right:1px solid black">
<p>Point value</p>
</td>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:left; border-right:1px solid black">
<p>Bounds</p>
</td>
</tr>
<tr>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:left; border-right:1px solid black; border-left:1px solid black">
<p><span class="tex2jax_process">$1$</span></p>
</td>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:left; border-right:1px solid black">
<p><span class="tex2jax_process">$21$</span></p>
</td>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:left; border-right:1px solid black">
<p><span class="tex2jax_process">$N \le 1000$</span>, all
          <span class="tex2jax_process">$t$</span> are the
          same.</p>
</td>
</tr>
<tr>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:left; border-right:1px solid black; border-left:1px solid black">
<p><span class="tex2jax_process">$2$</span></p>
</td>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:left; border-right:1px solid black">
<p><span class="tex2jax_process">$29$</span></p>
</td>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:left; border-right:1px solid black">
<p><span class="tex2jax_process">$N \le 1000$</span>, all
          <span class="tex2jax_process">$a$</span> are positive
          (i.e., the Finns love extreme temperatures).</p>
</td>
</tr>
<tr>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:left; border-right:1px solid black; border-left:1px solid black">
<p><span class="tex2jax_process">$3$</span></p>
</td>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:left; border-right:1px solid black">
<p><span class="tex2jax_process">$38$</span></p>
</td>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:left; border-right:1px solid black">
<p><span class="tex2jax_process">$N \le 1000$</span>, all
          <span class="tex2jax_process">$a$</span> are
          negative.</p>
</td>
</tr>
<tr>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:left; border-right:1px solid black; border-left:1px solid black; border-bottom-style:solid; border-bottom-color:black; border-bottom-width:1px">
<p><span class="tex2jax_process">$4$</span></p>
</td>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:left; border-right:1px solid black; border-bottom-style:solid; border-bottom-color:black; border-bottom-width:1px">
<p><span class="tex2jax_process">$12$</span></p>
</td>
<td style="border-top-style:solid; border-top-color:black; border-top-width:1px; text-align:left; border-right:1px solid black; border-bottom-style:solid; border-bottom-color:black; border-bottom-width:1px">
<p>No additional constraints.</p>
</td>
</tr>
</table>
<h2>Explanation of example <span class="tex2jax_process">$1$</span></h2>
<p>In this case the optimal temperature is <span class="tex2jax_process">$0 \textrm{ K}$</span>. Both Finns have the
    same happiness in this case: <span class="tex2jax_process">$1
    \cdot 0^2 - 6 \cdot 0 + 10 = 10$</span>. Their total happiness
    is <span class="tex2jax_process">$10 + 10 = 20$</span>.</p>
<h2>Explanation of example <span class="tex2jax_process">$2$</span></h2>
<p>In this case the optimal temperature is <span class="tex2jax_process">$\frac{10}{3} \textrm{ K}$</span>. The first
    Finn’s happiness is <span class="tex2jax_process">$-3(\frac{10}{3})^2 + 20 \cdot \frac{10}{3} +
    3 = -\frac{100}{3} + \frac{200}{3} + 3 = 36 +
    \frac{1}{3}$</span>. The second Finn in this case goes home,
    because the temperature is too high (she only tolerates
    temperatures up to <span class="tex2jax_process">$1\textrm{
    K}$</span>). The total happiness is therefore <span class="tex2jax_process">$36 + \frac{1}{3}$</span>.</p>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>2
1 -6 10 4
1 -6 10 7
</pre>
</td>
<td>
<pre>20.0000000000
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 2</th>
<th>Sample Output 2</th>
</tr>
<tr>
<td>
<pre>2
-3 20 3 5
-1 0 2 1
</pre>
</td>
<td>
<pre>36.3333333333
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 3</th>
<th>Sample Output 3</th>
</tr>
<tr>
<td>
<pre>1
1000000 2 3 10000
</pre>
</td>
<td>
<pre>100000000020003.0000000000
</pre>
</td>
</tr>
</table>
</div>