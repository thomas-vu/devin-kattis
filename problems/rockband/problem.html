<div class="problembody">
<div class="illustration" style="width:30.00%">
<img alt="/problems/rockband/file/statement/en/img-0001.jpg" class="illustration" src="/problems/rockband/file/statement/en/img-0001.jpg"/>
<div class="description">
<a href="https://commons.wikimedia.org/wiki/File:Bende_Rock_Band.jpg">
<small class="tiny">Picture by Nihad Qulamzade via
        Wikimedia Commons</small></a>
</div>
</div>
<p>Every day after school, you and your friends get together
    and play in a band. Over the past couple of months, the band
    has been rehearsing a large number of songs. Now it’s time to
    go out and perform in front of a crowd for the first time. In
    order to do so, a set list for the concert needs to be
    determined.</p>
<p>As it turns out, every band member has a different taste in
    music. (Who would have thought?) Everybody is very picky: a
    band member doesn’t want to play any particular song
    <span class="tex2jax_process">$X$</span> unless he also gets to
    play all songs he likes better than song <span class="tex2jax_process">$X$</span>. This holds for every band member
    and for every song <span class="tex2jax_process">$X$</span>.
    Furthermore, obviously at least one song should be
    performed.</p>
<p>The organisers of the concert do not want you to play too
    many songs, so a selection needs to be made that is as small as
    possible. As the unofficial leader of the band, you have taken
    it upon yourself to find a minimum length set list that meets
    the requirements.</p>
<h2>Input</h2>
<p>The first line contains two integers <span class="tex2jax_process">$M$</span> and <span class="tex2jax_process">$S$</span>, satisfying <span class="tex2jax_process">$M \geq 1$</span> and <span class="tex2jax_process">$S \geq 1$</span> as well as <span class="tex2jax_process">$M\cdot S \leq 10^6$</span>. These denote the
    total number of band members and the number of songs,
    respectively.</p>
<p>The following <span class="tex2jax_process">$M$</span> lines
    each contain <span class="tex2jax_process">$S$</span> integers
    per line, where the <span class="tex2jax_process">$i$</span>-th
    line denotes the preference list of the <span class="tex2jax_process">$i$</span>-th band member, starting with his
    favourite song and ending with his least favourite song. The
    songs are numbered <span class="tex2jax_process">$1$</span>
    through <span class="tex2jax_process">$S$</span>.</p>
<p>No two band members have the exact same preference
    lists.</p>
<h2>Output</h2>
<p>Output the smallest possible set list, using the following
    format:</p>
<ul class="itemize">
<li>
<p>One line with an integer <span class="tex2jax_process">$L$</span>: the length of the smallest
        possible set list.</p>
</li>
<li>
<p>One line with <span class="tex2jax_process">$L$</span>
        space-separated integers, denoting a sorted list of the
        songs to be played.</p>
</li>
</ul>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 1</th>
<th>Sample Output 1</th>
</tr>
<tr>
<td>
<pre>
3 8
4 5 2 1 6 8 3 7
5 2 4 8 6 1 3 7
2 5 4 8 1 6 3 7
</pre>
</td>
<td>
<pre>
3
2 4 5
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 2</th>
<th>Sample Output 2</th>
</tr>
<tr>
<td>
<pre>
2 8
6 2 8 7 1 3 4 5
2 8 7 1 3 4 5 6
</pre>
</td>
<td>
<pre>
8
1 2 3 4 5 6 7 8
</pre>
</td>
</tr>
</table>
<table class="sample" summary="sample data">
<tr>
<th>Sample Input 3</th>
<th>Sample Output 3</th>
</tr>
<tr>
<td>
<pre>
6 3
1 2 3
1 3 2
2 1 3
2 3 1
3 1 2
3 2 1
</pre>
</td>
<td>
<pre>
3
1 2 3
</pre>
</td>
</tr>
</table>
</div>